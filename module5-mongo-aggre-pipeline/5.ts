// ржарж┐ржХ ржЖржЫрзЗ тАФ ржПржЦржи ржЖржорж┐ ржЖржкржирж╛ржХрзЗ **MongoDB Aggregation Pipeline** ржПрж░ `$unwind` ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржмрзЛред

// ---

// ## **ЁЯУМ `$unwind` ржХрзА ржХрж░рзЗ?**

// `$unwind` ржПржоржи ржПржХржЯрж╛ stage ржпрзЗржЯрж╛ **array ржлрж┐рж▓рзНржбржХрзЗ ржлрзНрж▓рзНржпрж╛ржЯ ржХрж░рзЗ** тАФ ржЕрж░рзНржерж╛рзО, array-ржПрж░ ржкрзНрж░рждрж┐ржЯрж╛ element ржЖрж▓рж╛ржжрж╛ ржбржХрзБржорзЗржирзНржЯрзЗ рж░рзВржкрж╛ржирзНрждрж░рж┐ржд ржХрж░рзЗред

// ржнрж╛ржмрзБржи ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржПржХржЯрж╛ ржбржХрзБржорзЗржирзНржЯ ржЖржЫрзЗ ржпрзЗржЦрж╛ржирзЗ ржПржХ ржлрж┐рж▓рзНржбрзЗ ржЕржирзЗржХржЧрзБрж▓рзЛ ржнрзНржпрж╛рж▓рзБ ржЕрзНржпрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрж╛ ржЖржЫрзЗ, `$unwind` рж╕рзЗржЗ ржЕрзНржпрж╛рж░рзЗрж░ ржкрзНрж░рждрж┐ржЯрж╛ ржнрзНржпрж╛рж▓рзБрж░ ржЬржирзНржп **ржПржХржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржбржХрзБржорзЗржирзНржЯ** ржмрж╛ржирж╛ржмрзЗред

// ---

// ### **Syntax:**

// ```js
// { $unwind: "$arrayField" }
// ```

// ---

// ## **ржЙржжрж╛рж╣рж░ржг**

// ### ржбрж╛ржЯрж╛:

// ```json
// [
//   { "name": "Alice", "hobbies": ["reading", "traveling"] },
//   { "name": "Bob", "hobbies": ["sports", "cooking"] }
// ]
// ```

// ---

// ### Aggregation:

// ```js
// db.people.aggregate([
//   { $unwind: "$hobbies" }
// ])
// ```

// ---

// ### рж░рзЗржЬрж╛рж▓рзНржЯ:

// ```json
// [
//   { "name": "Alice", "hobbies": "reading" },
//   { "name": "Alice", "hobbies": "traveling" },
//   { "name": "Bob", "hobbies": "sports" },
//   { "name": "Bob", "hobbies": "cooking" }
// ]
// ```

// ---

// ## **ЁЯУН ржХрзЗржи ржжрж░ржХрж╛рж░?**

// * ржпржЦржи ржЕрзНржпрж╛рж░рзЗрж░ ржкрзНрж░рждрж┐ржЯрж╛ ржЖржЗржЯрзЗржоржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржкрзНрж░рж╕рзЗрж╕ ржмрж╛ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржиред
// * `$group` ржмрж╛ `$match` ржПрж░ ржЖржЧрзЗ ржЕржирзЗржХ рж╕ржорзЯ `$unwind` ржжрж░ржХрж╛рж░ рж╣рзЯ ржпрж╛рждрзЗ ржкрзНрж░рждрж┐ржЯрж╛ ржЕрзНржпрж╛рж░рзЗрж░ ржЙржкрж╛ржжрж╛ржи ржЖрж▓рж╛ржжрж╛ рж╣рзЯрзЗ ржпрж╛рзЯред

// ---

// ## **тЪЩя╕П ржЕржкрж╢ржирж╕**

// MongoDB 3.2+ ржП `$unwind` ржПрж░ рзйржЯрж╛ ржЕржкрж╢ржи ржЖржЫрзЗ:

// ```js
// {
//   $unwind: {
//     path: "$arrayField",
//     includeArrayIndex: "arrayIndex", // index рж░рж╛ржЦржмрзЗ (0, 1, 2...)
//     preserveNullAndEmptyArrays: true // array ржирж╛ ржерж╛ржХрж▓рзЗржУ ржбржХрзБржорзЗржирзНржЯ рж░рж╛ржЦржмрзЗ
//   }
// }
// ```

// * **`includeArrayIndex`** тЖТ ржЕрзНржпрж╛рж░рзЗрж░ ржЖржЗржЯрзЗржорзЗрж░ index ржЖрж▓рж╛ржжрж╛ ржлрж┐рж▓рзНржбрзЗ ржпрзЛржЧ ржХрж░рзЗред
// * **`preserveNullAndEmptyArrays`** тЖТ ржпржжрж┐ ржлрж┐рж▓рзНржб null ржмрж╛ ржЦрж╛рж▓рж┐ array рж╣рзЯ, рждржмрзБржУ ржбржХрзБржорзЗржирзНржЯ ржмрж╛ржж ржжрзЗржмрзЗ ржирж╛ред

// ---

// ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ `$unwind` + `$group` ржорж┐рж▓рж┐рзЯрзЗ ржПржХржЯрж╛ рж░рж┐рзЯрзЗрж▓-рж▓рж╛ржЗржл ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рж┐, ржпрзЗржЯрж╛ рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ ржмрж╛ ржбрж╛ржЯрж╛ ржЕрзНржпрж╛ржирж╛рж▓рж╛ржЗрж╕рж┐рж╕рзЗ ржЕржирзЗржХ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗред
// ржЖржкржирж┐ ржХрж┐ ржЪрж╛ржи ржЖржорж┐ рж╕рзЗржЯрж╛ ржмрж╛ржирж┐рзЯрзЗ ржжрж┐ржЗ?





// array diye directly group kora jabe na ,tokhon unwind use korte hobe


//  db.test.aggregate([
            
            
//             { $unwind : '$friends' }
            
//             {$group: { _id: "$friends",count:{$sum:1}}}
            
            
//             ])


